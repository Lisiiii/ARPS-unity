# ARPS-unity 
> 🕹 本仓库为RoboMaster机器人竞赛相关.

> 🛠 项目正在开发中，暂时没有release版本

### 一种基于Unity的单目雷达站定位方案 （开发中）

Automatic Radar Positioning System based on Unity

---
- 🎈 预览

<image src="https://github.com/user-attachments/assets/1cd0b12f-f211-4906-83a6-6c52cf5705d1" align="center" height="300"/>

- 📢 介绍

  不同于使用较为广泛的PnP方案和双目相机/多相机+激光雷达联合标定方案，我采用了成本更低，不需要进行测距，更贴近符合人脑思维的定位方式。

  我们的大脑能够很容易的根据雷达相机的二维画面自动拟合机器人具体位置，这是因为我们其实在脑内根据场地的建模进行了一次碰撞检测，由于官方每年都会开源场地的高精度模型，我们可以利用游戏引擎的强大能力模仿这一过程。按照这个思路，我设计出了这一套单目相机+游戏引擎的定位方案。

  由于队伍之前并无雷达传承，而雷达程序又只有我一个人完成，本程序很多地方都不完善,更多的是希望能提供一些新思路。

- 🎯目标
  
  去年已经实现了基础功能，实际效果超乎预料的好（分区赛排行第二，而第一是用了三个激光雷达的哈工大）：
![image](https://github.com/user-attachments/assets/52434ac5-1e85-4291-8b5a-6c27c7678b24)

  如今为了摆脱ROS2的依赖和如同史山般的神经网络识别，我将所有功能迁移至Unity完成，希望最终打包出一个全平台的简单易用，扩展性良好的雷达站程序。

  TODO: 
  - 全局自定义的console和日志记录

  - 写入/读取配置参数

  - 多相机支持

  - UI完善

- 🔧问题

  我们的方案虽然不需要激光雷达，规避了繁琐的解算和标定问题，但受制于相机镜头焦距及相机分辨率，远处装甲板在图像中的特征比较差，即使使用60000张图片数据集训练将近300个epoch，仍然会出现较多识别错误/识别不出来的问题

  Unity作为游戏引擎，功能十分强大，然而Unity中的物理相机毕竟无法完全匹配现实的相机画面，我也没有找到一个较好的方法根据相机画面解出相机在unity世界中的准确位姿，PnP解算出的位置有一定误差，这个误差放在雷达画面上对远处目标精度的影响是毁灭性的。所以，我们只能动用“智能人工”，手动对准相机画面，误差取决于你在赛场上的手抖程度，这是将来需要解决的问题。
